(this["webpackJsonpmy-status"]=this["webpackJsonpmy-status"]||[]).push([[0],{23:function(t,e,s){},32:function(t,e,s){"use strict";s.r(e);var i=s(3),n=s.n(i),a=s(16),r=s.n(a),o=s(2),c=s.n(o),u=s(7),l=s(10),h=s(13),d=s(12),p=s(8),j=s(9),f=(s(23),s(5)),b=s.n(f),m=s(1),v=s(17),g=s.n(v),y=s(0),O={Heart:m.g,"Lightning Bolt":m.h,"Food Drumstick":m.f,Sleep:m.k,"Skull Crossbones":m.j,Water:m.l,Cash:m.c,"Account Group":m.a,Emoticon:m.e},x=function(t,e){return Math.round(Math.round(t*Math.pow(10,(e||0)+1))/10)/Math.pow(10,e||0)},C=function(){function t(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x(Math.random(),2),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#"+((1<<24)*Math.random()|0).toString(16),n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"New Status",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Object.keys(O)[Math.floor(Math.random()*Object.keys(O).length)];Object(p.a)(this,t),this.id=e,this.progress=s,this.name=n,this.icon=a,this.color=i}return Object(j.a)(t,[{key:"updateBar",value:function(){document.getElementById("s".concat(this.id)).innerHTML="",this.line=new g.a.Line("#s".concat(this.id),{strokeWidth:4,color:this.color,trailColor:"#eee",trailWidth:0,svgStyle:{width:"100%",height:12}}),this.line.set(this.progress)}}]),t}(),k=function(){function t(e){var s=this;Object(p.a)(this,t),this.forceUpdate=e,this.statusList=[];var i=JSON.parse(window.localStorage.getItem("status"));i&&i.forEach((function(t,e){return s.statusList.push(new C(e,t.progress,t.color,t.name,t.icon))}))}return Object(j.a)(t,[{key:"save",value:function(){var t=[];this.statusList.forEach((function(e){return t.push({progress:e.progress,name:e.name,icon:e.icon,color:e.color})})),window.localStorage.setItem("status",JSON.stringify(t))}},{key:"addStatus",value:function(t){this.statusList.find((function(e){return e.id===t.id}))||this.statusList.push(t)}},{key:"removeStatus",value:function(t){this.statusList=this.statusList.filter((function(e){return e.id!==t})),this.save()}},{key:"createStatus",value:function(){for(var t=this.statusList.length;this.statusList.find((function(e){return e.id===t}));)t++;var e=new C(t);this.addStatus(e),this.forceUpdate((function(){return e.updateBar()})),this.save()}},{key:"clearStatus",value:function(){this.statusList=[],this.forceUpdate()}},{key:"getDiv",value:function(){return this.statusList.map((function(t){return Object(y.jsxs)("li",{style:{display:"flex"},children:[Object(y.jsx)(b.a,{path:O[t.icon],size:1.5,color:t.color,style:{opacity:.8}}),Object(y.jsxs)("div",{style:{marginLeft:10},children:[Object(y.jsx)("h4",{style:{color:t.color},children:t.name}),Object(y.jsx)("div",{id:"s".concat(t.id),style:{opacity:.6}})]})]})}))}},{key:"update",value:function(){this.statusList.forEach((function(t){return t.updateBar()}))}},{key:"getOptionsDiv",value:function(){var t=this;return this.statusList.map((function(e){return Object(y.jsxs)("li",{style:{width:"100%"},children:[Object(y.jsxs)("div",{className:"inputGroup",style:{fontWeight:"bold"},children:["#",e.id,Object(y.jsx)("input",{type:"text",value:e.name,onChange:function(s){e.name=s.target.value,t.save(),t.forceUpdate()}})]}),Object(y.jsxs)("div",{style:{fontSize:16},children:[Object(y.jsxs)("div",{className:"inputGroup",children:["Percentage:",Object(y.jsxs)("div",{className:"inputGroup",children:[Object(y.jsx)("input",{type:"range",min:0,max:100,value:100*e.progress,onChange:function(s){e.progress=Number(s.target.value)/100,t.save(),t.forceUpdate()}}),Object(y.jsx)("input",{type:"number",min:0,max:100,value:100*e.progress,onChange:function(s){var i=Number(s.target.value);e.progress=(i>100?100:i<0?0:i)/100,t.save(),t.forceUpdate()}})]})]}),Object(y.jsxs)("div",{className:"inputGroup",children:["Color:",Object(y.jsx)("input",{type:"color",value:e.color,onChange:function(s){e.color=s.target.value,t.save(),t.forceUpdate()}})]}),Object(y.jsxs)("div",{className:"inputGroup",children:["Icon:",Object(y.jsxs)("div",{className:"inputGroup",children:[Object(y.jsx)(b.a,{path:O[e.icon],size:1.5,style:{marginRight:5}}),Object(y.jsx)("select",{onChange:function(s){e.icon=s.target.value,t.save(),t.forceUpdate()},children:Object.keys(O).map((function(t){return Object(y.jsx)("option",{value:t,children:t})}))})]})]})]}),Object(y.jsx)("button",{style:{position:"relative",left:"50%",transform:"translateX(-50%)"},onClick:function(){t.removeStatus(e.id),t.forceUpdate()},children:"Remove"})]})}))}}]),t}(),w=function(t){Object(h.a)(s,t);var e=Object(d.a)(s);function s(t){var i;return Object(p.a)(this,s),(i=e.call(this,t)).toggleController=function(){return i.setState({isShow:!i.state.isShow})},i.state={timeout:0,isShow:!1},i}return Object(j.a)(s,[{key:"componentDidMount",value:function(){var t=this;setInterval((function(){t.state.timeout<3&&t.setState({timeout:t.state.timeout+1})}),1e3),document.getElementsByTagName("body")[0].onmousemove=this.resetTimeout.bind(this)}},{key:"resetTimeout",value:function(){!this.state.isShow&&this.state.timeout>=3&&this.setState({timeout:0})}},{key:"updateBG",value:function(){var t=this.bgImage.files[0],e=document.getElementsByTagName("img")[0];t?(e.style.display="block",e.src=URL.createObjectURL(t)):e.style.display="none"}},{key:"render",value:function(){var t=this;return Object(y.jsxs)(n.a.Fragment,{children:[Object(y.jsx)("div",{id:"toggleButton",style:{opacity:this.state.timeout>=3?0:1},onClick:function(){t.state.timeout<3&&t.toggleController()},children:Object(y.jsx)(b.a,{path:m.i,size:2.25,color:"white"})}),Object(y.jsxs)("div",{id:"controller",style:{display:this.state.isShow?"flex":"none"},children:[Object(y.jsx)("div",{style:{zIndex:-1,position:"fixed",width:"100%",height:"100%",backgroundColor:"#000",opacity:.2},onClick:this.toggleController.bind(this)}),Object(y.jsxs)("div",{style:{position:"relative",backgroundColor:"#fff",maxWidth:500,maxHeight:700,width:"80%",height:"80%",borderRadius:20,padding:20},children:[Object(y.jsx)(b.a,{path:m.d,size:1.5,color:"plum",style:{position:"absolute",right:10,top:10},onClick:this.toggleController.bind(this)}),Object(y.jsx)("h3",{children:"Options"}),Object(y.jsx)("div",{style:{backgroundColor:"plum",height:3,width:60,borderRadius:1.5,position:"relative",left:"50%",transform:"translateX(-50%)"}}),Object(y.jsx)("div",{id:"optionsContent",children:Object(y.jsxs)("ul",{children:[Object(y.jsxs)("li",{children:["Background Image:",Object(y.jsx)("br",{}),Object(y.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(y.jsx)("input",{ref:function(e){t.bgImage=e},type:"file",accept:"image/*",onChange:this.updateBG.bind(this)}),Object(y.jsx)("button",{onClick:function(){t.bgImage.value="",t.updateBG()},children:"clear"})]})]}),Object(y.jsxs)("li",{style:{display:"flex",justifyContent:"space-between"},children:[Object(y.jsxs)("div",{children:["Use Camera:"," ",Object(y.jsx)("input",{type:"checkbox",onChange:function(){return t.props.toggleCamera()},checked:this.props.useCamera})]}),Object(y.jsx)(b.a,{path:m.b,size:1,color:"plum",onClick:this.props.switchCamera})]}),Object(y.jsx)("li",{children:Object(y.jsx)("div",{style:{height:2,borderRadius:1,width:"90%",backgroundColor:"plum",opacity:.4,position:"relative",left:"50%",transform:"translateX(-50%)"}})}),Object(y.jsx)("li",{children:Object(y.jsx)("ul",{style:{display:"flex",alignItems:"center",flexDirection:"column"},children:this.props.statusList.getOptionsDiv()})}),Object(y.jsx)("li",{children:Object(y.jsx)("div",{style:{height:2,borderRadius:1,width:"90%",backgroundColor:"plum",opacity:.4,position:"relative",left:"50%",transform:"translateX(-50%)"}})}),Object(y.jsx)("li",{children:Object(y.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[Object(y.jsx)("button",{onClick:function(){return t.props.statusList.createStatus()},children:"New Status"}),Object(y.jsx)("button",{onClick:function(){return t.props.statusList.clearStatus()},children:"Clear Status"})]})}),Object(y.jsx)("li",{style:{fontSize:12,opacity:.5,display:"flex",justifyContent:"center",textAlign:"center"},children:Object(y.jsxs)("p",{children:[Object(y.jsx)("a",{href:"https://github.com/nohackjustnoobb/My-Status",children:"My-Status Ver 0.1.1"}),Object(y.jsx)("br",{}),"nohackjustnoobb@github.com"]})})]})})]})]})]})}}]),s}(n.a.Component),S=function(t){Object(h.a)(s,t);var e=Object(d.a)(s);function s(t){var i;return Object(p.a)(this,s),(i=e.call(this,t)).faceEnv=!0,i.statusList=new k(i.forceUpdate.bind(Object(l.a)(i))),i.state={useCamera:!1},i}return Object(j.a)(s,[{key:"useCamera",value:function(){var t=Object(u.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!navigator.mediaDevices.getUserMedia){t.next=7;break}return t.next=3,navigator.mediaDevices.getUserMedia({video:{facingMode:this.faceEnv?"environment":"user"}});case 3:this.stream=t.sent,this.video.style.display="block",this.setState({useCamera:!0}),"srcObject"in this.video?this.video.srcObject=this.stream:this.video.src=URL.createObjectURL(this.stream);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"closeCamera",value:function(){var t=Object(u.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.video.style.display="none",this.setState({useCamera:!1}),this.stream&&this.stream.getTracks().forEach((function(t){return t.stop()}));case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"toggleCamera",value:function(){var t=Object(u.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.state.useCamera?this.closeCamera():this.useCamera(),this.setState({useCamera:!this.state.useCamera});case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"switchCamera",value:function(){var t=Object(u.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.faceEnv=!this.faceEnv,this.useCamera();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){this.statusList.update()}},{key:"componentDidMount",value:function(){this.statusList.update()}},{key:"render",value:function(){var t=this,e=window.innerHeight>window.innerWidth;return Object(y.jsxs)("div",{children:[Object(y.jsx)("img",{alt:"",style:{height:"100%"}}),Object(y.jsx)("video",{ref:function(e){t.video=e},controls:!1,autoPlay:!0,playsInline:!0,style:e?{height:"100%"}:{width:"100%"}}),Object(y.jsx)("ul",{id:"statusList",style:{display:0===this.statusList.statusList.length?"none":"block",transform:"scale(".concat(e?.7:1,")")},children:this.statusList.getDiv()}),Object(y.jsx)(w,{useCamera:this.state.useCamera,toggleCamera:this.toggleCamera.bind(this),switchCamera:this.switchCamera.bind(this),statusList:this.statusList})]})}}]),s}(n.a.Component);r.a.render(Object(y.jsx)(S,{}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.199554ee.chunk.js.map